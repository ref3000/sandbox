<!DOCTYPE html>
<html>
<head>
<title>まど4</title>
<meta name="viewport" content="width=320,user-scalable=no">
<style>
  html, body, div, span, button {
    margin: 0;
    padding: 0;
  }
  header{
    background: rgb(255, 197, 197);
    position: fixed;
    width: 320px;
    height: 30px;
  }
  span {
    display: inline-block;
    text-align: center;
  }
  .rt {
    width: 13px;
    margin-top: 5px;
    font-size: 12px;
  }
  .result {
    width: 34px;
    margin-top: 5px;
    font-size: 12px;
    font-weight: bold;
  }
  .header-back {
    height: 30px;
  }
  .tile {
    width: 320px;
  }
  .title {
    font-size: 16px;
    width: 160px;
  }
  .inc-button {
    width: 40px;
    height: 40px;
    font-size: 30px;
  }
  .dec-button {
    width: 40px;
    height: 40px;
    font-size: 30px;
  }
  .count {
    font-size: 30px;
    width: 50px;
  }
</style>
</head>
<body>
<script>
  var data = [
  ["スイカ MC当選",0.1800,0.1800,0.2500,0.2500,0.3000,0.3000],
    ["スイカ MC非当選",0.8190,0.8190,0.7490,0.7490,0.6990,0.6990],
    ["スイカ KB直当選",0.0010,0.0010,0.0010,0.0010,0.0010,0.0010],
    ["低確チャ目 AT当選",0.0980,0.0980,0.0980,0.1250,0.1880,0.1880],
    ["低確チャ目 AT非当選",0.9020,0.9020,0.9020,0.8750,0.8120,0.8120],
    ["低確強チ強ベ AT当選",0.2030,0.2030,0.2030,0.2540,0.2540,0.2540],
    ["低確強チ強ベ AT非当選",0.7970,0.7970,0.7970,0.7460,0.7460,0.7460],
    ["高確チャ目 AT当選",0.1990,0.1990,0.1990,0.2230,0.2540,0.2540],
    ["高確チャ目 AT非当選",0.8010,0.8010,0.8010,0.7770,0.7460,0.7460],
    ["ATボイス 油断",0.4640,0.4030,0.3630,0.3410,0.3050,0.2980],
    ["ATボイス 一緒",0.4110,0.3720,0.3490,0.3550,0.3300,0.3360],
    ["ATボイス エントロピー",0.1250,0.1250,0.1880,0.1880,0.2500,0.2500],
    ["ATボイス 犠牲",0.0000,0.1000,0.1000,0.1000,0.1000,0.1000],
    ["ATボイス 奇跡",0.0000,0.0000,0.0000,0.0160,0.0160,0.0120],
    ["ATボイス 祈り",0.0000,0.0000,0.0000,0.0000,0.0000,0.0040],
    ["BBボイス 油断",0.4640,0.4550,0.3570,0.3430,0.2780,0.2720],
    ["BBボイス 一緒",0.4110,0.4200,0.3430,0.3570,0.3010,0.3060],
    ["BBボイス エントロピー",0.1250,0.1250,0.2000,0.2000,0.2750,0.2750],
    ["BBボイス 犠牲",0.0000,0.0000,0.1000,0.1000,0.1000,0.1000],
    ["BBボイス 奇跡",0.0000,0.0000,0.0000,0.0000,0.0470,0.0310],
    ["BBボイス 祈り",0.0000,0.0000,0.0000,0.0000,0.0000,0.0160],
    ["通常ゾーン 0-99 当選",0.0040,0.0040,0.0040,0.0040,0.0040,0.0040],
    ["通常ゾーン 0-99",0.9960,0.9960,0.9960,0.9960,0.9960,0.9960],
    ["通常ゾーン 100-149 当選",0.1998,0.2000,0.2000,0.2048,0.2050,0.2048],
    ["通常ゾーン 100-149",0.8002,0.8000,0.8000,0.7952,0.7950,0.7952],
    ["通常ゾーン 150-199 当選",0.0163,0.0163,0.0163,0.0492,0.0607,0.1023],
    ["通常ゾーン 150-199",0.9837,0.9837,0.9837,0.9508,0.9393,0.8977],
    ["通常ゾーン 200-249 当選",0.1824,0.3116,0.3116,0.3240,0.3297,0.4529],
    ["通常ゾーン 200-249",0.8176,0.6884,0.6884,0.6760,0.6703,0.5471],
    ["通常ゾーン 250-299 当選",0.0156,0.0315,0.0315,0.0334,0.0341,0.0566],
    ["通常ゾーン 250-299",0.9844,0.9685,0.9685,0.9666,0.9659,0.9434],
    ["通常ゾーン 300-349 当選",0.0254,0.0307,0.0307,0.0996,0.1019,0.1471],
    ["通常ゾーン 300-349",0.9746,0.9693,0.9693,0.9004,0.8981,0.8529],
    ["通常ゾーン 350-399 当選",0.0228,0.0277,0.0277,0.0926,0.1157,0.2684],
    ["通常ゾーン 350-399",0.9772,0.9723,0.9723,0.9074,0.8843,0.7316],
    ["通常ゾーン 400-449 当選",0.4542,0.5000,0.5000,0.4801,0.4869,0.5983],
    ["通常ゾーン 400-449",0.5458,0.5000,0.5000,0.5199,0.5131,0.4017],
    ["通常ゾーン 450-499 当選",0.0610,0.0691,0.0691,0.0622,0.0612,0.0870],
    ["通常ゾーン 450-499",0.9390,0.9309,0.9309,0.9378,0.9388,0.9130],
    ["通常ゾーン 500-549 当選",0.0519,0.0699,0.0699,0.2755,0.2935,0.7024],
    ["通常ゾーン 500-549",0.9481,0.9301,0.9301,0.7245,0.7065,0.2976],
    ["通常ゾーン 550-599 当選",0.0034,0.0047,0.0047,0.0282,0.0308,0.1600],
    ["通常ゾーン 550-599",0.9966,0.9953,0.9953,0.9718,0.9692,0.8400],
    ["通常ゾーン 600-649 当選",0.9347,0.9340,0.9340,0.9348,0.9365,0.9524],
    ["通常ゾーン 600-649",0.0653,0.0660,0.0660,0.0652,0.0635,0.0476],
    ["通常ゾーン 650-699 当選",1.0000,1.0000,1.0000,1.0000,1.0000,1.0000],
    ["通常ゾーン 650-699",0.0000,0.0000,0.0000,0.0000,0.0000,0.0000],
    ["AT開始 謎プル当選",0.0940,0.0980,0.1170,0.1170,0.1330,0.1450],
    ["AT開始 謎プル非当選",0.9060,0.9020,0.8830,0.8830,0.8670,0.8550],
    ["AT弱チェ MA当選",0.1800,0.1840,0.1950,0.1950,0.2030,0.2110],
    ["AT弱チェ MA非当選",0.8200,0.8160,0.8050,0.8050,0.7970,0.7890],
    ["ATチャ目 MA当選",0.3870,0.4020,0.4260,0.4260,0.4450,0.4570],
    ["ATチャ目 MA非当選",0.6130,0.5980,0.5740,0.5740,0.5550,0.5430],
    ["ATスイカ MB当選",0.1680,0.1720,0.1760,0.1760,0.1840,0.1880],
    ["ATスイカ MB非当選",0.8320,0.8280,0.8240,0.8240,0.8160,0.8120],
    ["カードLv1 さやか",0.4870,0.3190,0.4500,0.3000,0.4310,0.2880],
    ["カードLv1 マミ",0.3250,0.4780,0.3000,0.4500,0.2880,0.4310],
    ["カードLv1 杏子",0.1880,0.1880,0.2190,0.2190,0.2500,0.2500],
    ["カードLv1 ほむら",0.0000,0.0160,0.0160,0.0160,0.0160,0.0160],
    ["カードLv1 まどか",0.0000,0.0000,0.0160,0.0160,0.0160,0.0160],
    ["カードLv2 さやか",0.4870,0.3190,0.4500,0.2940,0.4220,0.2810],
    ["カードLv2 マミ",0.3250,0.4780,0.3000,0.4410,0.2810,0.4220],
    ["カードLv2 杏子",0.1880,0.1880,0.2340,0.2340,0.2660,0.2660],
    ["カードLv2 ほむら",0.0000,0.0160,0.0160,0.0160,0.0160,0.0160],
    ["カードLv2 まどか",0.0000,0.0000,0.0000,0.0160,0.0160,0.0160],
    ["カードLv3 さやか",0.4870,0.3250,0.4410,0.2880,0.4130,0.2750],
    ["カードLv3 マミ",0.3250,0.4870,0.2940,0.4310,0.2750,0.4130],
    ["カードLv3 杏子",0.1880,0.1880,0.2500,0.2500,0.2810,0.2810],
    ["カードLv3 ほむら",0.0000,0.0000,0.0160,0.0160,0.0160,0.0160],
    ["カードLv3 まどか",0.0000,0.0000,0.0000,0.0160,0.0160,0.0160],
    ["カードLv4 さやか",0.4870,0.3250,0.4310,0.2880,0.4030,0.2690],
    ["カードLv4 マミ",0.3250,0.4870,0.2880,0.4310,0.2690,0.4030],
    ["カードLv4 杏子",0.1880,0.1880,0.2660,0.2660,0.2970,0.2970],
    ["カードLv4 ほむら",0.0000,0.0000,0.0160,0.0160,0.0160,0.0160],
    ["カードLv4 まどか",0.0000,0.0000,0.0000,0.0000,0.0160,0.0160],
    ["カードLv5 さやか",0.4870,0.3250,0.4130,0.2750,0.3940,0.2560],
    ["カードLv5 マミ",0.3250,0.4870,0.2750,0.4130,0.2630,0.3840],
    ["カードLv5 杏子",0.1880,0.1880,0.2810,0.2810,0.3130,0.3130],
    ["カードLv5 ほむら",0.0000,0.0000,0.0310,0.0310,0.0310,0.0310],
    ["カードLv5 まどか",0.0000,0.0000,0.0000,0.0000,0.0000,0.0160],
    ["EDスイカ さやか",0.0000,0.0040,0.0040,0.0040,0.0040,0.0040],
    ["EDスイカ マミ",0.0000,0.0000,0.0040,0.0040,0.0040,0.0040],
    ["EDスイカ 杏子",0.0000,0.0000,0.0000,0.0040,0.0040,0.0040],
    ["EDスイカ ほむら",0.0000,0.0000,0.0000,0.0000,0.0040,0.0040],
    ["EDスイカ まどか",0.0000,0.0000,0.0000,0.0000,0.0000,0.0040],
    ["ED強レア さやか",0.5840,0.4000,0.5340,0.4000,0.4980,0.4000],
    ["ED強レア マミ",0.4000,0.5690,0.4000,0.5180,0.4000,0.4610],
    ["ED強レア 杏子",0.0160,0.0160,0.0500,0.0630,0.0780,0.1000],
    ["ED強レア ほむら",0.0000,0.0160,0.0160,0.0160,0.0160,0.0160],
    ["ED強レア まどか",0.0000,0.0000,0.0000,0.0040,0.0080,0.0230],
  ]
  var c = []
  function dec(i) {
    c[i]--
    update()
  }
  function inc(i) {
    c[i]++
    update()
  }
  function update() {
    for (i = 0; i < data.length; i++) {
      var elm = document.getElementById("c" + i)
      elm.textContent = c[i]
      localStorage.setItem('c' + i, c[i]);
    }

    var p = [1, 1, 1, 1, 1, 1];
    for (i = 0; i < data.length; i++) {
      if (c[i] < 1) continue;
      for (j = 0; j < 6; j++) {
        for (k = 0; k < c[i]; k++) p[j] *= data[i][j+1];
      }
    }
    var sum = 0;
    for (i = 0; i < 6; i++) sum += p[i];
    for (i = 0; i < 6; i++) {
      document.getElementById("r" + (i+1)).textContent = Math.round(p[i]*1000/sum)/10+"%";
    }
  }
  window.onload = function() {
    var area = document.getElementById("area");
    for (i = 0; i < data.length; i++) {
      var tile = document.createElement("div");
      tile.className = "tile";
      var t = document.createElement("span");
      t.id = "t" + i;
      t.className = "title";
      t.textContent = data[i][0];
      var db = document.createElement("button");
      db.id = "db" + i;
      db.className = "dec-button";
      db.onclick = function(e) { dec(e.target.id.slice(2) - 0) };
      db.textContent = "-";
      var ib = document.createElement("button");
      ib.id = "ib" + i;
      ib.className = "inc-button";
      ib.onclick = function(e) { inc(e.target.id.slice(2) - 0) };
      ib.textContent = "+";
      var count = document.createElement("span");
      count.id = "c" + i;
      count.className = "count";
      tile.appendChild(t);
      tile.appendChild(db);
      tile.appendChild(ib);
      tile.appendChild(count);
      area.appendChild(tile);
    }
    for (i = 0; i < data.length; i++) {
      c[i] = localStorage.getItem('c' + i) || 0;
    }
    update()
  }
  function reset() {
    for (i = 0; i < data.length; i++) c[i] = 0;
    update();
  }
</script>
<header>
  <span class="rt">1:</span><span id="r1" class="result"></span>
  <span class="rt">2:</span><span id="r2" class="result"></span>
  <span class="rt">3:</span><span id="r3" class="result"></span>
  <span class="rt">4:</span><span id="r4" class="result"></span>
  <span class="rt">5:</span><span id="r5" class="result"></span>
  <span class="rt">6:</span><span id="r6" class="result"></span>
</header>
<div class="header-back"></div>
<div id="area">
</div>
<button onclick="reset()">全てリセット</button>
</body>
</html>